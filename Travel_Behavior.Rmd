---
title: "Travel Behavior"
author: "Nate Lant"
date: "11/19/2019"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
library(tidyverse)
library(knitr)
library(haven)
library(nhts2017)
library(plotly)
library(pander)
library(Hmisc)

source("R/functions.R")

knitr::opts_chunk$set(echo = TRUE)
```

```{r setup.trips, include=F}
nhts_trips %>% View()
nhts_persons %>% View()

nhts_trips %>% left_join(nhts_persons, by = c("houseid", "personid")) %>% View()

```


## Mode Choice

```{r mode.choice}
# Distribution of trips by mode
clean_nhts(nhts_trips, nhts_persons, join_by = c("houseid", "personid"), trptrans) %>%
  plotly_bar_nhts(trptrans, Distribution, "Distribution of Trips by Mode")


```


## Primary Activity in Previous Week
<!--- PRMACT --->
```{r activity}
# Distribution of trips by mode
clean_nhts(nhts_trips, nhts_persons, join_by = c("houseid", "personid"), prmact) %>%
  plotly_bar_nhts(prmact, Distribution, "Distribution of Trips by Mode")


```

## Trip Purpose
<!--- trip purpose summary: Whytrip1s --->

<!--- trip origin purpose: whyfrom --->
<!--- trip destination purpose: whyto --->

## Trip Distance
<!--- TRPMILES --->

## Trip Duration in Minutes
<!--- TRVLCMIN responses 0-1200 --->

## Number of Drivers in Household
<!--- drvrcnt -->

## Number of Household Vehicles
<!--- HHVehcnt (might need to blend hh and pers data) --->

## Trip distance in miles for personally driven vehicle trips
<!--- VMT_MILE responses 0-5441 --->







